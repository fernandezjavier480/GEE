/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var geometry = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[-67.17698029796438, -17.885112016455114],
          [-67.17663697521047, -18.02979489908371],
          [-67.11415223399953, -18.028815503975167],
          [-67.04677514354543, -18.02816257087558],
          [-67.04651765148, -17.885112016455114]]], null, false),
    urban = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.11001321027953, -17.965660374474428],
               [-67.11001321027953, -17.967068757484526],
               [-67.1084038848706, -17.967068757484526],
               [-67.1084038848706, -17.965660374474428]]],
             [[[-67.11314603040893, -17.967374926218604],
               [-67.11314603040893, -17.968048495565984],
               [-67.1119873161145, -17.968048495565984],
               [-67.1119873161145, -17.967374926218604]]],
             [[[-67.11147233198363, -17.967681094422126],
               [-67.11147233198363, -17.968375073719137],
               [-67.11052819441039, -17.968375073719137],
               [-67.11052819441039, -17.967681094422126]]],
             [[[-67.11057110975463, -17.97059987132212],
               [-67.11057110975463, -17.971416303781584],
               [-67.10949822614867, -17.971416303781584],
               [-67.10949822614867, -17.97059987132212]]],
             [[[-67.11597844312865, -17.972130679088107],
               [-67.11597844312865, -17.972559302885145],
               [-67.11520596693236, -17.972559302885145],
               [-67.11520596693236, -17.972130679088107]]],
             [[[-67.10692330549438, -17.966844233408978],
               [-67.10692330549438, -17.967456571124718],
               [-67.1062795753308, -17.967456571124718],
               [-67.1062795753308, -17.966844233408978]]],
             [[[-67.11152140654846, -17.95896117310735],
               [-67.11152140654846, -17.960185901047065],
               [-67.10993353881165, -17.960185901047065],
               [-67.10993353881165, -17.95896117310735]]],
             [[[-67.11310927428528, -17.956960765890916],
               [-67.11310927428528, -17.957777261366385],
               [-67.1119076446466, -17.957777261366385],
               [-67.1119076446466, -17.956960765890916]]],
             [[[-67.12087695159241, -17.9566749915836],
               [-67.12087695159241, -17.957613962572985],
               [-67.11916033782288, -17.957613962572985],
               [-67.11916033782288, -17.9566749915836]]],
             [[[-67.10131336898664, -17.963491972840192],
               [-67.10131336898664, -17.964471730754088],
               [-67.10028340072492, -17.964471730754088],
               [-67.10028340072492, -17.963491972840192]]],
             [[[-67.1047465965257, -17.97181974194091],
               [-67.1047465965257, -17.972881096072477],
               [-67.10337330551008, -17.972881096072477],
               [-67.10337330551008, -17.97181974194091]]],
             [[[-67.13427235336164, -17.973126023043267],
               [-67.13427235336164, -17.974350652802435],
               [-67.13281323165754, -17.974350652802435],
               [-67.13281323165754, -17.973126023043267]]],
             [[[-67.13684727401593, -17.97524870922885],
               [-67.13684727401593, -17.976799886844955],
               [-67.13538815231183, -17.976799886844955],
               [-67.13538815231183, -17.97524870922885]]],
             [[[-67.1058623954759, -17.976146761088394],
               [-67.1058623954759, -17.977616290643528],
               [-67.10448910446027, -17.977616290643528],
               [-67.10448910446027, -17.976146761088394]]],
             [[[-67.09650685043195, -17.965941357439572],
               [-67.09650685043195, -17.967410971901852],
               [-67.09479023666242, -17.967410971901852],
               [-67.09479023666242, -17.965941357439572]]],
             [[[-67.09753681869367, -17.95459225639981],
               [-67.09753681869367, -17.956143615362212],
               [-67.09599186630109, -17.956143615362212],
               [-67.09599186630109, -17.95459225639981]]],
             [[[-67.10191418380597, -17.958593101797508],
               [-67.10191418380597, -17.959736183852094],
               [-67.10045506210187, -17.959736183852094],
               [-67.10045506210187, -17.958593101797508]]],
             [[[-67.10929562301496, -17.94013946900778],
               [-67.10929562301496, -17.94111935631193],
               [-67.1076648399339, -17.94111935631193],
               [-67.1076648399339, -17.94013946900778]]],
             [[[-67.0924695893552, -17.94003649775399],
               [-67.0924695893552, -17.940301884589047],
               [-67.0921799107816, -17.940301884589047],
               [-67.0921799107816, -17.94003649775399]]],
             [[[-67.09460462773106, -17.939311785523284],
               [-67.09460462773106, -17.939536344559976],
               [-67.09435786450169, -17.939536344559976],
               [-67.09435786450169, -17.939311785523284]]],
             [[[-67.091171400192, -17.938668728523762],
               [-67.091171400192, -17.938893288376395],
               [-67.09092463696263, -17.938893288376395],
               [-67.09092463696263, -17.938668728523762]]],
             [[[-67.09670747959873, -17.939750696101928],
               [-67.09670747959873, -17.940026290560073],
               [-67.09640707218907, -17.940026290560073],
               [-67.09640707218907, -17.939750696101928]]],
             [[[-67.06168276453741, -17.97513262524919],
               [-67.06168276453741, -17.97615313904293],
               [-67.06136089945562, -17.97615313904293],
               [-67.06136089945562, -17.97513262524919]]],
             [[[-67.06513744974859, -17.974581545348464],
               [-67.06513744974859, -17.974908111423144],
               [-67.06462246561773, -17.974908111423144],
               [-67.06462246561773, -17.974581545348464]]],
             [[[-67.06056696558721, -17.972540493700755],
               [-67.06056696558721, -17.97364266452007],
               [-67.0597730317188, -17.97364266452007],
               [-67.0597730317188, -17.972540493700755]]]], null, false),
        {
          "system:index": "0",
          "Class": 0,
          "Name": "Urban"
        }),
    s2 = ee.ImageCollection("COPERNICUS/S2_SR"),
    water = 
    /* color: #0b4a8b */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.16703704261059, -17.967267226898006],
               [-67.16703704261059, -17.96865518601743],
               [-67.16523459815258, -17.96865518601743],
               [-67.16523459815258, -17.967267226898006]]],
             [[[-67.16291716956371, -17.96514444480197],
               [-67.16291716956371, -17.966369129892882],
               [-67.16145804785961, -17.966369129892882],
               [-67.16145804785961, -17.96514444480197]]],
             [[[-67.17201522254223, -17.971186142221743],
               [-67.17201522254223, -17.97314556728121],
               [-67.17021277808422, -17.97314556728121],
               [-67.17021277808422, -17.971186142221743]]],
             [[[-67.1721010532307, -17.97477840489236],
               [-67.1721010532307, -17.976084664111664],
               [-67.17107108496899, -17.976084664111664],
               [-67.17107108496899, -17.97477840489236]]],
             [[[-67.17141440772289, -17.978697153562003],
               [-67.17141440772289, -17.980166661891033],
               [-67.16823867224926, -17.980166661891033],
               [-67.16823867224926, -17.978697153562003]]],
             [[[-67.17347434424633, -17.962531754906497],
               [-67.17347434424633, -17.96734887185393],
               [-67.17253020667309, -17.96734887185393],
               [-67.17253020667309, -17.962531754906497]]],
             [[[-67.1558361377644, -17.958102340824237],
               [-67.1558361377644, -17.95879635773711],
               [-67.15532115363354, -17.95879635773711],
               [-67.15532115363354, -17.958102340824237]]],
             [[[-67.08929310370921, -18.008899548071426],
               [-67.08929310370921, -18.011511551590033],
               [-67.08671818305491, -18.011511551590033],
               [-67.08671818305491, -18.008899548071426]]],
             [[[-67.13448296119212, -18.016980308558946],
               [-67.13448296119212, -18.01877598278024],
               [-67.13104973365306, -18.01877598278024],
               [-67.13104973365306, -18.016980308558946]]],
             [[[-67.1279598288679, -18.023346707282435],
               [-67.1279598288679, -18.025468789047366],
               [-67.12555656959056, -18.025468789047366],
               [-67.12555656959056, -18.023346707282435]]]], null, false),
        {
          "system:index": "0",
          "Class": 1,
          "Name": "Water"
        }),
    bare_soil = 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.09577332068919, -17.997634839518817],
               [-67.09577332068919, -17.999104190144493],
               [-67.09435711432933, -17.999104190144493],
               [-67.09435711432933, -17.997634839518817]]],
             [[[-67.09671745826243, -18.000287824800754],
               [-67.09671745826243, -18.00126737850796],
               [-67.09530125190257, -18.00126737850796],
               [-67.09530125190257, -18.000287824800754]]],
             [[[-67.10414181281566, -18.006695639991577],
               [-67.10414181281566, -18.007593531795113],
               [-67.1030689292097, -18.007593531795113],
               [-67.1030689292097, -18.006695639991577]]],
             [[[-67.10633049537181, -18.008246541142956],
               [-67.10633049537181, -18.009103612240406],
               [-67.10534344245433, -18.009103612240406],
               [-67.10534344245433, -18.008246541142956]]],
             [[[-67.08122501899241, -18.00289995592703],
               [-67.08122501899241, -18.00359379675252],
               [-67.08040962745189, -18.00359379675252],
               [-67.08040962745189, -18.00289995592703]]],
             [[[-67.0808816962385, -18.00547123470672],
               [-67.0808816962385, -18.006450759614985],
               [-67.07989464332103, -18.006450759614985],
               [-67.07989464332103, -18.00547123470672]]],
             [[[-67.1097557199272, -18.01679674740595],
               [-67.1097557199272, -18.01908215016491],
               [-67.10786744478071, -18.01908215016491],
               [-67.10786744478071, -18.01679674740595]]],
             [[[-67.1042625558647, -18.011409609310565],
               [-67.1042625558647, -18.013695081952466],
               [-67.10151597383344, -18.013695081952466],
               [-67.10151597383344, -18.011409609310565]]],
             [[[-67.06690050022313, -17.919813568515693],
               [-67.06690050022313, -17.920589402131604],
               [-67.06595636264989, -17.920589402131604],
               [-67.06595636264989, -17.919813568515693]]],
             [[[-67.0712349499912, -17.922835217131347],
               [-67.0712349499912, -17.92357020494782],
               [-67.07007623569676, -17.92357020494782],
               [-67.07007623569676, -17.922835217131347]]],
             [[[-67.06011987583348, -17.91054413575809],
               [-67.06011987583348, -17.911483351456322],
               [-67.05930448429295, -17.911483351456322],
               [-67.05930448429295, -17.91054413575809]]],
             [[[-67.09955907718846, -17.915117660968637],
               [-67.09955907718846, -17.915852680798928],
               [-67.09865785495946, -17.915852680798928],
               [-67.09865785495946, -17.915117660968637]]],
             [[[-67.0999453152866, -17.912422562178385],
               [-67.0999453152866, -17.913198428151862],
               [-67.09917283909031, -17.913198428151862],
               [-67.09917283909031, -17.912422562178385]]],
             [[[-67.0932076062412, -17.918547727428233],
               [-67.0932076062412, -17.91911939871658],
               [-67.09234929935643, -17.91911939871658],
               [-67.09234929935643, -17.918547727428233]]],
             [[[-67.10974323596737, -17.906768380940658],
               [-67.10974323596737, -17.907462599111895],
               [-67.10901367511532, -17.907462599111895],
               [-67.10901367511532, -17.906768380940658]]],
             [[[-67.11064445819638, -17.911464509687875],
               [-67.11064445819638, -17.912240379854723],
               [-67.10970032062313, -17.912240379854723],
               [-67.10970032062313, -17.911464509687875]]],
             [[[-67.14476215686581, -17.909953594880868],
               [-67.14476215686581, -17.91068863612519],
               [-67.14368927325985, -17.91068863612519],
               [-67.14368927325985, -17.909953594880868]]],
             [[[-67.14737999286434, -17.91607884545368],
               [-67.14737999286434, -17.916936363641774],
               [-67.14639293994686, -17.916936363641774],
               [-67.14639293994686, -17.91607884545368]]],
             [[[-67.15055572833798, -17.901908777645257],
               [-67.15055572833798, -17.902766364373328],
               [-67.14943992938778, -17.902766364373328],
               [-67.14943992938778, -17.901908777645257]]],
             [[[-67.16488945331356, -17.90999443058551],
               [-67.16488945331356, -17.910811142702958],
               [-67.16394531574032, -17.910811142702958],
               [-67.16394531574032, -17.90999443058551]]],
             [[[-67.1759186967828, -17.907625944168945],
               [-67.1759186967828, -17.908360995063486],
               [-67.17488872852108, -17.908360995063486],
               [-67.17488872852108, -17.907625944168945]]],
             [[[-67.17514622058651, -17.91219954466744],
               [-67.17514622058651, -17.91334292635528],
               [-67.17433082904599, -17.91334292635528],
               [-67.17433082904599, -17.91219954466744]]],
             [[[-67.1793948396661, -17.915629667603948],
               [-67.1793948396661, -17.916977197737715],
               [-67.17836487140438, -17.916977197737715],
               [-67.17836487140438, -17.915629667603948]]],
             [[[-67.12085831012509, -17.90350143541129],
               [-67.12085831012509, -17.90399148107738],
               [-67.1200858339288, -17.90399148107738],
               [-67.1200858339288, -17.90350143541129]]],
             [[[-67.13557827319882, -17.904399851431442],
               [-67.13557827319882, -17.904971568347317],
               [-67.13467705096981, -17.904971568347317],
               [-67.13467705096981, -17.904399851431442]]],
             [[[-67.16766492810677, -17.9370684898528],
               [-67.16766492810677, -17.938375027723957],
               [-67.16629163709115, -17.938375027723957],
               [-67.16629163709115, -17.9370684898528]]],
             [[[-67.17521802869271, -17.93355712153703],
               [-67.17521802869271, -17.934700365379843],
               [-67.17384473767709, -17.934700365379843],
               [-67.17384473767709, -17.93355712153703]]],
             [[[-67.16869489636849, -17.930535655843244],
               [-67.16869489636849, -17.93167891919669],
               [-67.16714994397591, -17.93167891919669],
               [-67.16714994397591, -17.930535655843244]]]], null, false),
        {
          "system:index": "0",
          "Class": 2,
          "Name": "Bare_soil"
        }),
    vegetation = 
    /* color: #00ffff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.15488414208185, -17.983243499476927],
               [-67.15488414208185, -17.984019054868018],
               [-67.15385417382014, -17.984019054868018],
               [-67.15385417382014, -17.983243499476927]]],
             [[[-67.15857486168635, -17.981039270813543],
               [-67.15857486168635, -17.981978112312888],
               [-67.15754489342463, -17.981978112312888],
               [-67.15754489342463, -17.981039270813543]]],
             [[[-67.1642396871258, -17.984631333032794],
               [-67.1642396871258, -17.985570155426867],
               [-67.16308097283137, -17.985570155426867],
               [-67.16308097283137, -17.984631333032794]]],
             [[[-67.14999179283869, -17.979447310773413],
               [-67.14999179283869, -17.98054943848401],
               [-67.14879016320002, -17.98054943848401],
               [-67.14879016320002, -17.979447310773413]]],
             [[[-67.1488759938885, -17.97503873113452],
               [-67.1488759938885, -17.975895963573358],
               [-67.14801768700373, -17.975895963573358],
               [-67.14801768700373, -17.97503873113452]]],
             [[[-67.14677314202082, -17.98597833751881],
               [-67.14677314202082, -17.9867946988705],
               [-67.14582900444758, -17.9867946988705],
               [-67.14582900444758, -17.98597833751881]]],
             [[[-67.15265254418146, -17.988509045416766],
               [-67.15265254418146, -17.989366212444285],
               [-67.15166549126398, -17.989366212444285],
               [-67.15166549126398, -17.988509045416766]]],
             [[[-67.02726140948096, -17.984414289067917],
               [-67.02726140948096, -17.985189839314586],
               [-67.02627435656348, -17.985189839314586],
               [-67.02627435656348, -17.984414289067917]]],
             [[[-67.03421369524756, -17.984781655399043],
               [-67.03421369524756, -17.985761295210406],
               [-67.03318372698584, -17.985761295210406],
               [-67.03318372698584, -17.984781655399043]]],
             [[[-67.03781858416357, -17.982944816097266],
               [-67.03781858416357, -17.983720372800708],
               [-67.03678861590186, -17.983720372800708],
               [-67.03678861590186, -17.982944816097266]]],
             [[[-67.03635946245947, -17.987761376274037],
               [-67.03635946245947, -17.988496094237018],
               [-67.03545824023047, -17.988496094237018],
               [-67.03545824023047, -17.987761376274037]]],
             [[[-67.04622999163428, -17.987720558519733],
               [-67.04622999163428, -17.988373641455635],
               [-67.04562917681494, -17.988373641455635],
               [-67.04562917681494, -17.987720558519733]]],
             [[[-67.04520002337256, -17.98992470374111],
               [-67.04520002337256, -17.990496144304046],
               [-67.04459920855322, -17.990496144304046],
               [-67.04459920855322, -17.98992470374111]]],
             [[[-67.0258452031211, -17.98890426956129],
               [-67.0258452031211, -17.989679800076154],
               [-67.02515855761328, -17.989679800076154],
               [-67.02515855761328, -17.98890426956129]]],
             [[[-67.0267464253501, -17.991312484754875],
               [-67.0267464253501, -17.992047187931142],
               [-67.02597394915381, -17.992047187931142],
               [-67.02597394915381, -17.991312484754875]]],
             [[[-67.03249708147803, -17.9818427033412],
               [-67.03249708147803, -17.982454989055192],
               [-67.03172460528174, -17.982454989055192],
               [-67.03172460528174, -17.9818427033412]]],
             [[[-67.04116598101416, -17.9805364867202],
               [-67.04116598101416, -17.981352873240947],
               [-67.04035058947363, -17.981352873240947],
               [-67.04035058947363, -17.9805364867202]]],
             [[[-67.05075147435679, -18.02476977351927],
               [-67.05075147435679, -18.02532069659831],
               [-67.0499789981605, -18.02532069659831],
               [-67.0499789981605, -18.02476977351927]]],
             [[[-67.05010774419321, -18.02654496393559],
               [-67.05010774419321, -18.027116285779652],
               [-67.04959276006235, -18.027116285779652],
               [-67.04959276006235, -18.02654496393559]]],
             [[[-67.08495457875208, -17.899491370587167],
               [-67.08495457875208, -17.900267293141898],
               [-67.08392461049036, -17.900267293141898],
               [-67.08392461049036, -17.899491370587167]]],
             [[[-67.07877476918176, -17.897367775714567],
               [-67.07877476918176, -17.898184545981497],
               [-67.07774480092004, -17.898184545981497],
               [-67.07774480092004, -17.897367775714567]]],
             [[[-67.08795865284876, -17.899409694331332],
               [-67.08795865284876, -17.900144779279945],
               [-67.08710034596399, -17.900144779279945],
               [-67.08710034596399, -17.899409694331332]]],
             [[[-67.08619912373499, -17.900798185565932],
               [-67.08619912373499, -17.901574102404417],
               [-67.0852120708175, -17.901574102404417],
               [-67.0852120708175, -17.900798185565932]]],
             [[[-67.09413846241907, -17.914192483904237],
               [-67.09413846241907, -17.91505001121961],
               [-67.0929368327804, -17.91505001121961],
               [-67.0929368327804, -17.914192483904237]]],
             [[[-67.08190758931116, -17.905698655986367],
               [-67.08190758931116, -17.90663789735291],
               [-67.08096345173792, -17.90663789735291],
               [-67.08096345173792, -17.905698655986367]]],
             [[[-67.08735783802942, -17.902513365614972],
               [-67.08735783802942, -17.90333011218973],
               [-67.08641370045618, -17.90333011218973],
               [-67.08641370045618, -17.902513365614972]]]], null, false),
        {
          "system:index": "0",
          "Class": 3,
          "Name": "Vegetation"
        }),
    test_urban = 
    /* color: #bf04c2 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.10844686763635, -17.954703089940562],
               [-67.10844686763635, -17.955601246225402],
               [-67.10724523799767, -17.955601246225402],
               [-67.10724523799767, -17.954703089940562]]],
             [[[-67.10904768245568, -17.948660829086762],
               [-67.10904768245568, -17.94980397535208],
               [-67.10767439144006, -17.94980397535208],
               [-67.10767439144006, -17.948660829086762]]],
             [[[-67.11642912166467, -17.948334214511092],
               [-67.11642912166467, -17.949150749819456],
               [-67.11531332271447, -17.949150749819456],
               [-67.11531332271447, -17.948334214511092]]],
             [[[-67.11625746028771, -17.965480664186195],
               [-67.11625746028771, -17.966378765707262],
               [-67.11505583064904, -17.966378765707262],
               [-67.11505583064904, -17.965480664186195]]],
             [[[-67.11780241268029, -17.968501532973807],
               [-67.11780241268029, -17.97005276984661],
               [-67.11642912166467, -17.97005276984661],
               [-67.11642912166467, -17.968501532973807]]],
             [[[-67.13247946040978, -17.976910706456838],
               [-67.13247946040978, -17.97789038994733],
               [-67.13102033870568, -17.97789038994733],
               [-67.13102033870568, -17.976910706456838]]],
             [[[-67.139002592734, -17.977237268224286],
               [-67.139002592734, -17.97838022965421],
               [-67.1378867937838, -17.97838022965421],
               [-67.1378867937838, -17.977237268224286]]],
             [[[-67.10784605281701, -17.97838022965421],
               [-67.10784605281701, -17.981237600858794],
               [-67.10630110042443, -17.981237600858794],
               [-67.10630110042443, -17.97838022965421]]],
             [[[-67.10140875118127, -17.968093310480246],
               [-67.10140875118127, -17.96939961913932],
               [-67.09969213741174, -17.96939961913932],
               [-67.09969213741174, -17.968093310480246]]],
             [[[-67.08432844417443, -17.965154080683128],
               [-67.08432844417443, -17.966542056402474],
               [-67.08329847591271, -17.966542056402474],
               [-67.08329847591271, -17.965154080683128]]],
             [[[-67.10767439144006, -17.96050020018505],
               [-67.10767439144006, -17.961643269906578],
               [-67.10630110042443, -17.961643269906578],
               [-67.10630110042443, -17.96050020018505]]],
             [[[-67.13282278316369, -17.98858491443359],
               [-67.13282278316369, -17.989564533132494],
               [-67.1317069842135, -17.989564533132494],
               [-67.1317069842135, -17.98858491443359]]],
             [[[-67.12157896297326, -17.985319479494294],
               [-67.12157896297326, -17.986380752477114],
               [-67.12011984126916, -17.986380752477114],
               [-67.12011984126916, -17.985319479494294]]],
             [[[-67.11685827510705, -17.98629911632039],
               [-67.11685827510705, -17.987115476188222],
               [-67.11565664546838, -17.987115476188222],
               [-67.11565664546838, -17.98629911632039]]],
             [[[-67.13411024349084, -17.979686462228745],
               [-67.13411024349084, -17.980829407803796],
               [-67.13290861385217, -17.980829407803796],
               [-67.13290861385217, -17.979686462228745]]],
             [[[-67.1386592699801, -17.97005276984661],
               [-67.1386592699801, -17.971277420913705],
               [-67.13728597896447, -17.971277420913705],
               [-67.13728597896447, -17.97005276984661]]],
             [[[-67.11372034039925, -17.939455722751777],
               [-67.11372034039925, -17.940313127752404],
               [-67.11273328748177, -17.940313127752404],
               [-67.11273328748177, -17.939455722751777]]],
             [[[-67.10775510755013, -17.9444776072331],
               [-67.10775510755013, -17.945375815447004],
               [-67.10681096997689, -17.945375815447004],
               [-67.10681096997689, -17.9444776072331]]],
             [[[-67.11796895947884, -17.938720800873597],
               [-67.11796895947884, -17.93974152488022],
               [-67.1170248219056, -17.93974152488022],
               [-67.1170248219056, -17.938720800873597]]],
             [[[-67.11238996472787, -17.933739583265506],
               [-67.11238996472787, -17.934515355878723],
               [-67.11161748853158, -17.934515355878723],
               [-67.11161748853158, -17.933739583265506]]],
             [[[-67.10530893292855, -17.948029585800818],
               [-67.10530893292855, -17.948846122515455],
               [-67.10436479535531, -17.948846122515455],
               [-67.10436479535531, -17.948029585800818]]],
             [[[-67.09530965772103, -17.950642490018886],
               [-67.09530965772103, -17.95145901467066],
               [-67.09445135083627, -17.95145901467066],
               [-67.09445135083627, -17.950642490018886]]],
             [[[-67.11294786420297, -17.91761090916024],
               [-67.11294786420297, -17.91842758618238],
               [-67.1120895573182, -17.91842758618238],
               [-67.1120895573182, -17.91761090916024]]],
             [[[-67.11655275311898, -17.92561418165895],
               [-67.11655275311898, -17.92626749406337],
               [-67.11603776898812, -17.92626749406337],
               [-67.11603776898812, -17.92561418165895]]],
             [[[-67.11642400708627, -17.93100393692141],
               [-67.11642400708627, -17.931616398730434],
               [-67.11565153088998, -17.931616398730434],
               [-67.11565153088998, -17.93100393692141]]]], null, false),
        {
          "system:index": "0",
          "Class": 0,
          "Name": "Urban_test"
        }),
    test_water = 
    /* color: #ff0000 */
    /* shown: false */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.16887167232385, -17.968501532973807],
               [-67.16887167232385, -17.96964455093756],
               [-67.16749838130822, -17.96964455093756],
               [-67.16749838130822, -17.968501532973807]]],
             [[[-67.16269186275353, -17.964337619284773],
               [-67.16269186275353, -17.965562309967634],
               [-67.16157606380334, -17.965562309967634],
               [-67.16157606380334, -17.964337619284773]]],
             [[[-67.17247656123986, -17.975196247269732],
               [-67.17247656123986, -17.976339221910624],
               [-67.17101743953576, -17.976339221910624],
               [-67.17101743953576, -17.975196247269732]]],
             [[[-67.17187574642053, -17.97021605714611],
               [-67.17187574642053, -17.97168563604932],
               [-67.17093160884728, -17.97168563604932],
               [-67.17093160884728, -17.97021605714611]]],
             [[[-67.17033079402795, -17.979604822975965],
               [-67.17033079402795, -17.980829407803796],
               [-67.16870001094689, -17.980829407803796],
               [-67.16870001094689, -17.979604822975965]]],
             [[[-67.09307892983811, -18.00489573996237],
               [-67.09307892983811, -18.00620177622764],
               [-67.09136231606858, -18.00620177622764],
               [-67.09136231606858, -18.00489573996237]]],
             [[[-67.08913071816819, -18.00799756029227],
               [-67.08913071816819, -18.009466824554565],
               [-67.08767159646409, -18.009466824554565],
               [-67.08767159646409, -18.00799756029227]]],
             [[[-67.08827241128343, -18.01109932603565],
               [-67.08827241128343, -18.012242068074197],
               [-67.0868991202678, -18.012242068074197],
               [-67.0868991202678, -18.01109932603565]]],
             [[[-67.09325059121507, -18.007181297076375],
               [-67.09325059121507, -18.008405690482626],
               [-67.09187730019944, -18.008405690482626],
               [-67.09187730019944, -18.007181297076375]]],
             [[[-67.17281563943284, -17.99591647874003],
               [-67.17281563943284, -17.99665116274115],
               [-67.17169984048265, -17.99665116274115],
               [-67.17169984048265, -17.99591647874003]]],
             [[[-67.1744464225139, -17.999100087308673],
               [-67.1744464225139, -18.000324536839866],
               [-67.17341645425218, -18.000324536839866],
               [-67.17341645425218, -17.999100087308673]]]], null, false),
        {
          "system:index": "0",
          "Class": 1,
          "Name": "Water_test"
        }),
    test_bare = 
    /* color: #00ff00 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.09573968118089, -17.999100087308673],
               [-67.09573968118089, -18.000487796134966],
               [-67.09462388223069, -18.000487796134966],
               [-67.09462388223069, -17.999100087308673]]],
             [[[-67.12895615762132, -18.009793326060574],
               [-67.12895615762132, -18.01093607656806],
               [-67.12766869729417, -18.01093607656806],
               [-67.12766869729417, -18.009793326060574]]],
             [[[-67.10389359658616, -18.006446656950125],
               [-67.10389359658616, -18.007426176438063],
               [-67.10234864419358, -18.007426176438063],
               [-67.10234864419358, -18.006446656950125]]],
             [[[-67.10672600930589, -18.01109932603565],
               [-67.10672600930589, -18.01207881966525],
               [-67.10526688760179, -18.01207881966525],
               [-67.10526688760179, -18.01109932603565]]],
             [[[-67.08295090859788, -18.004569229384174],
               [-67.08295090859788, -18.00538550469578],
               [-67.08209260171311, -18.00538550469578],
               [-67.08209260171311, -18.004569229384174]]],
             [[[-67.08363755410569, -18.007181297076375],
               [-67.08363755410569, -18.008650568143214],
               [-67.08243592446702, -18.008650568143214],
               [-67.08243592446702, -18.007181297076375]]],
             [[[-67.16627123031748, -17.910153352249026],
               [-67.16627123031748, -17.912440134646083],
               [-67.16386797104013, -17.912440134646083],
               [-67.16386797104013, -17.910153352249026]]],
             [[[-67.15425493393076, -17.900352522196876],
               [-67.15425493393076, -17.902966129838184],
               [-67.15253832016123, -17.902966129838184],
               [-67.15253832016123, -17.900352522196876]]],
             [[[-67.14979173812998, -17.916686937970592],
               [-67.14979173812998, -17.918973636070863],
               [-67.14704515609873, -17.918973636070863],
               [-67.14704515609873, -17.916686937970592]]],
             [[[-67.15906145248545, -17.923546943737662],
               [-67.15906145248545, -17.92550689659635],
               [-67.1563148704542, -17.92550689659635],
               [-67.1563148704542, -17.923546943737662]]],
             [[[-67.06825258407724, -17.918973636070863],
               [-67.06825258407724, -17.92175030123349],
               [-67.06567766342295, -17.92175030123349],
               [-67.06567766342295, -17.918973636070863]]],
             [[[-67.05881120834482, -17.909990009520474],
               [-67.05881120834482, -17.912766815437504],
               [-67.05692293319834, -17.912766815437504],
               [-67.05692293319834, -17.909990009520474]]],
             [[[-67.06430437240732, -17.906233085228873],
               [-67.06430437240732, -17.908356573957725],
               [-67.06224443588388, -17.908356573957725],
               [-67.06224443588388, -17.906233085228873]]],
             [[[-67.07117082748545, -17.900515873802725],
               [-67.07117082748545, -17.902476081338985],
               [-67.0684242454542, -17.902476081338985],
               [-67.0684242454542, -17.900515873802725]]],
             [[[-67.10584642562998, -17.889734345207366],
               [-67.10584642562998, -17.892021390860194],
               [-67.10327150497568, -17.892021390860194],
               [-67.10327150497568, -17.889734345207366]]],
             [[[-67.11202623520029, -17.887937360092685],
               [-67.11202623520029, -17.89055115060926],
               [-67.10996629867685, -17.89055115060926],
               [-67.10996629867685, -17.887937360092685]]],
             [[[-67.10773470077646, -17.900025818533944],
               [-67.10773470077646, -17.902476081338985],
               [-67.10584642562998, -17.902476081338985],
               [-67.10584642562998, -17.900025818533944]]],
             [[[-67.10910799179209, -17.9103166948271],
               [-67.10910799179209, -17.911950112330086],
               [-67.10618974838388, -17.911950112330086],
               [-67.10618974838388, -17.9103166948271]]],
             [[[-67.07265035596322, -17.924001449333588],
               [-67.07265035596322, -17.925308083629684],
               [-67.07110540357064, -17.925308083629684],
               [-67.07110540357064, -17.924001449333588]]],
             [[[-67.14758054700326, -17.921061486928217],
               [-67.14758054700326, -17.9220414798178],
               [-67.14620725598763, -17.9220414798178],
               [-67.14620725598763, -17.921061486928217]]],
             [[[-67.15556280103158, -17.91550809150227],
               [-67.15556280103158, -17.91648811510622],
               [-67.15453283276986, -17.91648811510622],
               [-67.15453283276986, -17.91550809150227]]],
             [[[-67.15273038831185, -17.919999821847302],
               [-67.15273038831185, -17.921061486928217],
               [-67.15152875867318, -17.921061486928217],
               [-67.15152875867318, -17.919999821847302]]],
             [[[-67.0687021442933, -17.923919784370053],
               [-67.0687021442933, -17.92473643231115],
               [-67.06767217603158, -17.92473643231115],
               [-67.06767217603158, -17.923919784370053]]]], null, false),
        {
          "system:index": "0",
          "Class": 2,
          "Name": "Bare_test"
        }),
    test_veg = 
    /* color: #0000ff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.12913279074954, -17.96910506005213],
               [-67.12913279074954, -17.969554102171536],
               [-67.12857489127444, -17.969554102171536],
               [-67.12857489127444, -17.96910506005213]]],
             [[[-67.14604143637942, -17.970656291625378],
               [-67.14604143637942, -17.97114615139741],
               [-67.14535479087161, -17.97114615139741],
               [-67.14535479087161, -17.970656291625378]]],
             [[[-67.14943174857424, -17.96918670415874],
               [-67.14943174857424, -17.969676568006005],
               [-67.14887384909915, -17.969676568006005],
               [-67.14887384909915, -17.96918670415874]]],
             [[[-67.15097670096682, -17.972697365046564],
               [-67.15097670096682, -17.973228040272737],
               [-67.15033297080325, -17.973228040272737],
               [-67.15033297080325, -17.972697365046564]]],
             [[[-67.14998964804934, -17.976779441127555],
               [-67.14998964804934, -17.977269283916364],
               [-67.14934591788577, -17.977269283916364],
               [-67.14934591788577, -17.976779441127555]]],
             [[[-67.14715723532962, -17.976575339564487],
               [-67.14715723532962, -17.977228463735873],
               [-67.14664225119876, -17.977228463735873],
               [-67.14664225119876, -17.976575339564487]]],
             [[[-67.14913134116458, -17.97971847747673],
               [-67.14913134116458, -17.98028995108554],
               [-67.14844469565676, -17.98028995108554],
               [-67.14844469565676, -17.97971847747673]]],
             [[[-67.15436701316165, -17.978983722975894],
               [-67.15436701316165, -17.97955519896302],
               [-67.1536374523096, -17.97955519896302],
               [-67.1536374523096, -17.978983722975894]]],
             [[[-67.15088677184764, -17.966500225877528],
               [-67.15088677184764, -17.967153387303895],
               [-67.15020012633983, -17.967153387303895],
               [-67.15020012633983, -17.966500225877528]]],
             [[[-67.15277504699412, -17.96841888069621],
               [-67.15277504699412, -17.969031212954395],
               [-67.15208840148631, -17.969031212954395],
               [-67.15208840148631, -17.96841888069621]]],
             [[[-67.12990233345674, -17.950381026317558],
               [-67.12990233345674, -17.950993421065185],
               [-67.1289581958835, -17.950993421065185],
               [-67.1289581958835, -17.950381026317558]]],
             [[[-67.13655421181367, -17.94813556076808],
               [-67.13655421181367, -17.94887044354059],
               [-67.13578173561739, -17.94887044354059],
               [-67.13578173561739, -17.94813556076808]]],
             [[[-67.13037440224336, -17.960424032357107],
               [-67.13037440224336, -17.96095474444729],
               [-67.12960192604707, -17.96095474444729],
               [-67.12960192604707, -17.960424032357107]]],
             [[[-67.13762709541963, -17.94584923928439],
               [-67.13762709541963, -17.94666578606363],
               [-67.13685461922334, -17.94666578606363],
               [-67.13685461922334, -17.94584923928439]]],
             [[[-67.08225091206506, -17.89883795948765],
               [-67.08225091206506, -17.899654722985993],
               [-67.08126385914758, -17.899654722985993],
               [-67.08126385914758, -17.89883795948765]]],
             [[[-67.08225091206506, -17.896142613264],
               [-67.08225091206506, -17.89700022786771],
               [-67.0811780284591, -17.89700022786771],
               [-67.0811780284591, -17.896142613264]]],
             [[[-67.09001858937219, -17.897694484272552],
               [-67.09001858937219, -17.898592929704872],
               [-67.08885987507776, -17.898592929704872],
               [-67.08885987507776, -17.897694484272552]]],
             [[[-67.09100564228967, -17.90206415339571],
               [-67.09100564228967, -17.90284006469621],
               [-67.09010442006067, -17.90284006469621],
               [-67.09010442006067, -17.90206415339571]]],
             [[[-67.09499676930383, -17.901941640774808],
               [-67.09499676930383, -17.90267671523081],
               [-67.09413846241907, -17.90267671523081],
               [-67.09413846241907, -17.901941640774808]]],
             [[[-67.06946213948206, -17.90602534919987],
               [-67.06946213948206, -17.906760406729607],
               [-67.06873257863, -17.906760406729607],
               [-67.06873257863, -17.90602534919987]]]], null, false),
        {
          "system:index": "0",
          "Class": 3,
          "Name": "Test_veg"
        }),
    Secarral = 
    /* color: #0b4a8b */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.17602494896701, -17.943930539344667],
               [-67.17602494896701, -17.94458378415424],
               [-67.17499498070529, -17.94458378415424],
               [-67.17499498070529, -17.943930539344667]]],
             [[[-67.17173341454318, -17.94450212868494],
               [-67.17173341454318, -17.94515537138405],
               [-67.1709609383469, -17.94515537138405],
               [-67.1709609383469, -17.94450212868494]]],
             [[[-67.16890100182346, -17.952994095612357],
               [-67.16890100182346, -17.953810609406137],
               [-67.16804269493869, -17.953810609406137],
               [-67.16804269493869, -17.952994095612357]]],
             [[[-67.16357949913791, -17.95119775199502],
               [-67.16357949913791, -17.952095926084592],
               [-67.16246370018771, -17.952095926084592],
               [-67.16246370018771, -17.95119775199502]]],
             [[[-67.1727633828049, -17.947360047685418],
               [-67.1727633828049, -17.948339894999577],
               [-67.17173341454318, -17.948339894999577],
               [-67.17173341454318, -17.947360047685418]]],
             [[[-67.17559579552463, -17.947033430707865],
               [-67.17559579552463, -17.947849972020965],
               [-67.17482331932834, -17.947849972020965],
               [-67.17482331932834, -17.947033430707865]]],
             [[[-67.1756816262131, -17.95111609957887],
               [-67.1756816262131, -17.952014274083133],
               [-67.17482331932834, -17.952014274083133],
               [-67.17482331932834, -17.95111609957887]]],
             [[[-67.1701884621506, -17.956750027843874],
               [-67.1701884621506, -17.957321575753966],
               [-67.16933015526584, -17.957321575753966],
               [-67.16933015526584, -17.956750027843874]]],
             [[[-67.1575341515543, -17.947619722914435],
               [-67.1575341515543, -17.94787489163392],
               [-67.15725520181675, -17.94787489163392],
               [-67.15725520181675, -17.947619722914435]]],
             [[[-67.15684750604649, -17.948640395583823],
               [-67.15684750604649, -17.94892618287582],
               [-67.1564719967844, -17.94892618287582],
               [-67.1564719967844, -17.948640395583823]]],
             [[[-67.15951898622532, -17.94858936209023],
               [-67.15951898622532, -17.948854736096102],
               [-67.159100561619, -17.948854736096102],
               [-67.159100561619, -17.94858936209023]]],
             [[[-67.15906837511082, -17.950640896930544],
               [-67.15906837511082, -17.950967507246588],
               [-67.15849974679966, -17.950967507246588],
               [-67.15849974679966, -17.950640896930544]]],
             [[[-67.15632179307957, -17.950732756142905],
               [-67.15632179307957, -17.951059366289282],
               [-67.15592482614537, -17.951059366289282],
               [-67.15592482614537, -17.950732756142905]]],
             [[[-67.1642389500105, -17.954995138454528],
               [-67.1642389500105, -17.955893293255816],
               [-67.16303732037183, -17.955893293255816],
               [-67.16303732037183, -17.954995138454528]]],
             [[[-67.16501142620679, -17.95744464080215],
               [-67.16501142620679, -17.958506081279605],
               [-67.16406728863355, -17.958506081279605],
               [-67.16406728863355, -17.95744464080215]]],
             [[[-67.16398145794507, -17.95809783569635],
               [-67.16398145794507, -17.95940421824405],
               [-67.16398145794507, -17.95940421824405],
               [-67.16398145794507, -17.95809783569635]]]], null, false),
        {
          "Class": 4,
          "name": "Secarral",
          "system:index": "0"
        }),
    test_Seca = 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[-67.17041875958081, -17.94846296629863],
               [-67.17041875958081, -17.949034540994223],
               [-67.1693887913191, -17.949034540994223],
               [-67.1693887913191, -17.94846296629863]]],
             [[[-67.17247869610425, -17.950096031957056],
               [-67.17247869610425, -17.9506676013752],
               [-67.17170621990796, -17.9506676013752],
               [-67.17170621990796, -17.950096031957056]]],
             [[[-67.17016126751538, -17.94625830374304],
               [-67.17016126751538, -17.946829885562536],
               [-67.16947462200757, -17.946829885562536],
               [-67.16947462200757, -17.94625830374304]]],
             [[[-67.17325117230054, -17.945686720076722],
               [-67.17325117230054, -17.94617664904663],
               [-67.1726503574812, -17.94617664904663],
               [-67.1726503574812, -17.945686720076722]]],
             [[[-67.17350866436597, -17.943645334764565],
               [-67.17350866436597, -17.944461891715957],
               [-67.17273618816968, -17.944461891715957],
               [-67.17273618816968, -17.943645334764565]]],
             [[[-67.17608358502027, -17.938419281042982],
               [-67.17608358502027, -17.938827572047668],
               [-67.17539693951245, -17.938827572047668],
               [-67.17539693951245, -17.938419281042982]]],
             [[[-67.17299368023511, -17.951729082536648],
               [-67.17299368023511, -17.951974038822968],
               [-67.17256452679273, -17.951974038822968],
               [-67.17256452679273, -17.951729082536648]]],
             [[[-67.17093374371167, -17.95393367689816],
               [-67.17093374371167, -17.95475018635326],
               [-67.17033292889234, -17.95475018635326],
               [-67.17033292889234, -17.95393367689816]]],
             [[[-67.1645822727644, -17.952790557326782],
               [-67.1645822727644, -17.953443769415316],
               [-67.16398145794507, -17.953443769415316],
               [-67.16398145794507, -17.952790557326782]]],
             [[[-67.16123487591382, -17.950912559131787],
               [-67.16123487591382, -17.951565778157264],
               [-67.16046239971753, -17.951565778157264],
               [-67.16046239971753, -17.950912559131787]]],
             [[[-67.16956045269605, -17.958587730283128],
               [-67.16956045269605, -17.959077623512243],
               [-67.16904546856519, -17.959077623512243],
               [-67.16904546856519, -17.958587730283128]]],
             [[[-67.16870214581128, -17.95548504163902],
               [-67.16870214581128, -17.95572999272222],
               [-67.16818716168042, -17.95572999272222],
               [-67.16818716168042, -17.95548504163902]]],
             [[[-67.16801550030347, -17.951075864114348],
               [-67.16801550030347, -17.951974038822968],
               [-67.16732885479566, -17.951974038822968],
               [-67.16732885479566, -17.951075864114348]]],
             [[[-67.17539693951245, -17.949116194371385],
               [-67.17539693951245, -17.949932726069747],
               [-67.1748819553816, -17.949932726069747],
               [-67.1748819553816, -17.949116194371385]]],
             [[[-67.17591192364331, -17.945441755082946],
               [-67.17591192364331, -17.94625830374304],
               [-67.17539693951245, -17.94625830374304],
               [-67.17539693951245, -17.945441755082946]]]], null, false),
        {
          "Class": 4,
          "name": "Test_seca",
          "system:index": "0"
        });
/***** End of imports. If edited, may not auto-convert in the playground. *****/
//////////////////////// From feature to Feature Collection (FC)

var TrainingData = ee.FeatureCollection([urban,water,bare_soil,vegetation, Secarral])

var TestData = ee.FeatureCollection([test_urban,test_water,test_bare,test_veg, test_Seca])

var AOI = geometry

Map.centerObject(TrainingData, 11)

/////////////////////////////////////// Imagen a clasificar 

var startDate = "2019-05-01"
var endDate = "2019-10-30"

var imagen = s2.filterDate(startDate, endDate).filterBounds(AOI).mean().select("B2", "B3", "B4", "B8", "B8A", "B11")

Map.addLayer(imagen.clip(AOI), {min:0, max:3500, bands:["B4", "B3", "B2"]}, "RGB a clasificar")

////////////////////////////////// Mostrear training areas con la imagen a clasificar

var TrainingSample = imagen.sampleRegions(TrainingData, ["Class"], 10)

print(TrainingSample.limit(2))

/////////////////////////////// Escoger el algoritmo y entrenarlo

var classifier = ee.Classifier.minimumDistance().train(TrainingSample, "Class")

var classified = imagen.classify(classifier)

Map.addLayer(classified.clip(AOI), {min:0, max:4, palette:["grey", "blue", "orange", "green", "red"]}, "Classified: MinimumDistance")

//////////////////////////////// Evaluar la fiabilidad de nuestra clasificación considerando las areas test/independientes

var TestSample = classified.sampleRegions(TestData, ["Class"], 10)

print(TestSample.limit(10), "Test samples")

print(TestSample.size())

var error_matrix = TestSample.errorMatrix("Class", "classification")

print(error_matrix, "Error Matrix")

var accuracy = error_matrix.accuracy()

print(accuracy, "Overall Accuracy")

var kappa = error_matrix.kappa()

print(kappa, "Kappa Index")

/////////////////////////////// Escoger el algoritmo y entrenarlo

var classifier_rf = ee.Classifier.smileRandomForest(100).train(TrainingSample, "Class")

var classified_rf = imagen.classify(classifier_rf)

Map.addLayer(classified_rf.clip(AOI), {min:0, max:4, palette:["grey", "blue", "orange", "green", "red"]}, "Classified: RF")

//////////////////////////////// Evaluar la fiabilidad de nuestra clasificación considerando las areas test/independientes

var TestSample_rf = classified_rf.sampleRegions(TestData, ["Class"], 10)


var error_matrix_rf = TestSample_rf.errorMatrix("Class", "classification")

print(error_matrix_rf, "Error Matrix RF")

var accuracy_rf = error_matrix_rf.accuracy()

print(accuracy_rf, "Overall Accuracy RF")

var kappa_rf = error_matrix_rf.kappa()

print(kappa_rf, "Kappa Index RF")

/////////////////////////////////// Grafico que muestre el area ocupada por cada una de las clases

var areaChart = ui.Chart.image.byClass({
  image: ee.Image.pixelArea().multiply(0.000001).addBands(classified_rf),
  classBand:"classification",
  region:AOI,
  reducer:ee.Reducer.sum(),
  scale:10,
  classLabels:["Class"]}).setOptions({
    hAxis: {title: "Clases"},
    vAxis: {title: "Area km2"},
    title: "Area total cubierta por cada clase",
    colors: ["grey", "blue", "orange", "green", "red"]
  })
  
  print(areaChart, "Chart Area")
  
  
  
  